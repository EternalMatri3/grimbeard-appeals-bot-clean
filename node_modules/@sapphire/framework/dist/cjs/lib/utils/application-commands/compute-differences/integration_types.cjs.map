{"version":3,"sources":["../../../../../../src/lib/utils/application-commands/compute-differences/integration_types.ts"],"names":[],"mappings":";;;;;;AAGO,UAAU,qBAAA,CAChB,0BACA,mBAAA,EAC+B;AAE/B,EAAA,IAAI,CAAC,wBAAA,EAA0B,MAAA,IAAU,mBAAA,EAAqB,MAAA,EAAQ;AACrE,IAAA,MAAM;AAAA,MACL,GAAA,EAAK,kBAAA;AAAA,MACL,QAAA,EAAU,8BAAA;AAAA,MACV,QAAA,EAAU;AAAA,KACX;AAAA,EACD,CAAA,MAAA,IAES,wBAAA,EAA0B,MAAA,IAAU,CAAC,qBAAqB,MAAA,EAAQ;AAC1E,IAAA,MAAM;AAAA,MACL,GAAA,EAAK,kBAAA;AAAA,MACL,QAAA,EAAU,2BAAA;AAAA,MACV,QAAA,EAAU;AAAA,KACX;AAAA,EACD,CAAA,MAAA,IAES,qBAAqB,MAAA,EAAQ;AACrC,IAAA,IAAI,KAAA,GAAQ,CAAA;AAEZ,IAAA,KAAA,MAAW,sBAAsB,mBAAA,EAAqB;AACrD,MAAA,MAAM,YAAA,GAAe,KAAA,EAAA;AAErB,MAAA,IAAI,wBAAA,CAA0B,YAAY,CAAA,KAAM,kBAAA,EAAoB;AACnE,QAAA,MAAM;AAAA,UACL,GAAA,EAAK,oBAAoB,YAAY,CAAA,CAAA,CAAA;AAAA,UACrC,QAAA,EAAU,CAAA,iBAAA,EAAoB,wBAAA,GAA2B,YAAY,CAAC,CAAA,CAAA;AAAA,UACtE,QAAA,EAAU,oBAAoB,kBAAkB,CAAA;AAAA,SACjD;AAAA,MACD;AAAA,IACD;AAEA,IAAA,IAAI,KAAA,GAAQ,yBAA0B,MAAA,EAAQ;AAC7C,MAAA,IAAI,IAAA;AAEJ,MAAA,OAAA,CAAQ,IAAA,GAAO,wBAAA,CAA0B,KAAK,CAAA,MAAO,MAAA,EAAW;AAC/D,QAAA,MAAM;AAAA,UACL,GAAA,EAAK,oBAAoB,KAAK,CAAA,CAAA,CAAA;AAAA,UAC9B,QAAA,EAAU,oBAAoB,IAAI,CAAA,QAAA,CAAA;AAAA,UAClC,QAAA,EAAU;AAAA,SACX;AAEA,QAAA,KAAA,EAAA;AAAA,MACD;AAAA,IACD;AAAA,EACD;AACD;AAlDiB,MAAA,CAAA,qBAAA,EAAA,uBAAA,CAAA","file":"integration_types.cjs","sourcesContent":["import type { ApplicationIntegrationType } from 'discord.js';\nimport type { CommandDifference } from './_shared';\n\nexport function* checkIntegrationTypes(\n\texistingIntegrationTypes?: ApplicationIntegrationType[],\n\tnewIntegrationTypes?: ApplicationIntegrationType[]\n): Generator<CommandDifference> {\n\t// 0. No existing integration types and now we have integration types\n\tif (!existingIntegrationTypes?.length && newIntegrationTypes?.length) {\n\t\tyield {\n\t\t\tkey: 'integrationTypes',\n\t\t\toriginal: 'no integration types present',\n\t\t\texpected: 'integration types present'\n\t\t};\n\t}\n\t// 1. Existing integration types and now we have no integration types\n\telse if (existingIntegrationTypes?.length && !newIntegrationTypes?.length) {\n\t\tyield {\n\t\t\tkey: 'integrationTypes',\n\t\t\toriginal: 'integration types present',\n\t\t\texpected: 'no integration types present'\n\t\t};\n\t}\n\t// 2. Maybe changes in order or additions, log\n\telse if (newIntegrationTypes?.length) {\n\t\tlet index = 0;\n\n\t\tfor (const newIntegrationType of newIntegrationTypes) {\n\t\t\tconst currentIndex = index++;\n\n\t\t\tif (existingIntegrationTypes![currentIndex] !== newIntegrationType) {\n\t\t\t\tyield {\n\t\t\t\t\tkey: `integrationTypes[${currentIndex}]`,\n\t\t\t\t\toriginal: `integration type ${existingIntegrationTypes?.[currentIndex]}`,\n\t\t\t\t\texpected: `integration type ${newIntegrationType}`\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif (index < existingIntegrationTypes!.length) {\n\t\t\tlet type: ApplicationIntegrationType;\n\n\t\t\twhile ((type = existingIntegrationTypes![index]) !== undefined) {\n\t\t\t\tyield {\n\t\t\t\t\tkey: `integrationTypes[${index}]`,\n\t\t\t\t\toriginal: `integration type ${type} present`,\n\t\t\t\t\texpected: 'no integration type present'\n\t\t\t\t};\n\n\t\t\t\tindex++;\n\t\t\t}\n\t\t}\n\t}\n}\n"]}