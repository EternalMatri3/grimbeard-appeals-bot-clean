{"version":3,"sources":["../../../../../src/listeners/application-commands/chat-input/CorePossibleChatInputCommand.ts"],"names":[],"mappings":";;;;;AAMO,IAAM,aAAA,GAAN,MAAM,aAAA,SAAqB,QAAA,CAAiD;AAAA,EAC3E,YAAY,OAAA,EAAiC;AACnD,IAAA,KAAA,CAAM,OAAA,EAAS,EAAE,KAAA,EAAO,MAAA,CAAO,0BAA0B,CAAA;AAAA,EAC1D;AAAA,EAEO,IAAI,WAAA,EAA0C;AACpD,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,IAAA,CAAK,SAAA;AAChC,IAAA,MAAM,YAAA,GAAe,MAAA,CAAO,GAAA,CAAI,UAAU,CAAA;AAE1C,IAAA,MAAM,OAAA,GAAU,aAAa,GAAA,CAAI,WAAA,CAAY,SAAS,CAAA,IAAK,YAAA,CAAa,GAAA,CAAI,WAAA,CAAY,WAAW,CAAA;AACnG,IAAA,IAAI,CAAC,OAAA,EAAS;AACb,MAAA,MAAA,CAAO,IAAA,CAAK,OAAO,uBAAA,EAAyB;AAAA,QAC3C,WAAA;AAAA,QACA,SAAS,EAAE,SAAA,EAAW,YAAY,SAAA,EAAW,WAAA,EAAa,YAAY,WAAA;AAAY,OAClF,CAAA;AACD,MAAA;AAAA,IACD;AAEA,IAAA,IAAI,CAAC,QAAQ,YAAA,EAAc;AAC1B,MAAA,MAAA,CAAO,IAAA,CAAK,OAAO,yCAAA,EAA2C;AAAA,QAC7D,OAAA;AAAA,QACA,WAAA;AAAA,QACA,SAAS,EAAE,SAAA,EAAW,YAAY,SAAA,EAAW,WAAA,EAAa,YAAY,WAAA;AAAY,OAClF,CAAA;AACD,MAAA;AAAA,IACD;AAEA,IAAA,MAAA,CAAO,IAAA,CAAK,OAAO,sBAAA,EAAwB;AAAA,MAC1C,OAAA;AAAA,MACA,SAAS,EAAE,SAAA,EAAW,YAAY,SAAA,EAAW,WAAA,EAAa,YAAY,WAAA,EAAY;AAAA,MAClF;AAAA,KACA,CAAA;AAAA,EACF;AACD,CAAA;AAjCmF,MAAA,CAAA,aAAA,EAAA,cAAA,CAAA;AAA5E,IAAM,YAAA,GAAN;AAmCP,KAAK,SAAA,CAAU,OAAO,SAAA,CAAU;AAAA,EAC/B,IAAA,EAAM,8BAAA;AAAA,EACN,KAAA,EAAO,YAAA;AAAA,EACP,KAAA,EAAO;AACR,CAAC,CAAA","file":"CorePossibleChatInputCommand.mjs","sourcesContent":["import { container } from '@sapphire/pieces';\nimport type { ChatInputCommandInteraction } from 'discord.js';\nimport { Listener } from '../../../lib/structures/Listener';\nimport type { ChatInputCommand } from '../../../lib/types/CommandTypes';\nimport { Events } from '../../../lib/types/Events';\n\nexport class CoreListener extends Listener<typeof Events.PossibleChatInputCommand> {\n\tpublic constructor(context: Listener.LoaderContext) {\n\t\tsuper(context, { event: Events.PossibleChatInputCommand });\n\t}\n\n\tpublic run(interaction: ChatInputCommandInteraction) {\n\t\tconst { client, stores } = this.container;\n\t\tconst commandStore = stores.get('commands');\n\n\t\tconst command = commandStore.get(interaction.commandId) ?? commandStore.get(interaction.commandName);\n\t\tif (!command) {\n\t\t\tclient.emit(Events.UnknownChatInputCommand, {\n\t\t\t\tinteraction,\n\t\t\t\tcontext: { commandId: interaction.commandId, commandName: interaction.commandName }\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tif (!command.chatInputRun) {\n\t\t\tclient.emit(Events.CommandDoesNotHaveChatInputCommandHandler, {\n\t\t\t\tcommand,\n\t\t\t\tinteraction,\n\t\t\t\tcontext: { commandId: interaction.commandId, commandName: interaction.commandName }\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tclient.emit(Events.PreChatInputCommandRun, {\n\t\t\tcommand: command as ChatInputCommand,\n\t\t\tcontext: { commandId: interaction.commandId, commandName: interaction.commandName },\n\t\t\tinteraction\n\t\t});\n\t}\n}\n\nvoid container.stores.loadPiece({\n\tname: 'CorePossibleChatInputCommand',\n\tpiece: CoreListener,\n\tstore: 'listeners'\n});\n"]}