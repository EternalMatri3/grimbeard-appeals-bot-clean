{"version":3,"sources":["../../../../src/lib/resolvers/role.ts"],"names":[],"mappings":";;;;;AAKA,eAAsB,WAAA,CAAY,WAAmB,KAAA,EAAoE;AACxH,EAAA,MAAM,IAAA,GAAQ,MAAM,WAAA,CAAY,SAAA,EAAW,KAAK,CAAA,IAAM,cAAA,CAAe,WAAW,KAAK,CAAA;AAErF,EAAA,IAAI,IAAA,EAAM;AACT,IAAA,OAAO,MAAA,CAAO,GAAG,IAAI,CAAA;AAAA,EACtB;AAEA,EAAA,OAAO,MAAA,CAAO,GAAA,CAAI,WAAA,CAAY,iBAAiB,CAAA;AAChD;AARsB,MAAA,CAAA,WAAA,EAAA,aAAA,CAAA;AAUtB,eAAe,WAAA,CAAY,UAAkB,KAAA,EAAoC;AAChF,EAAA,MAAM,SAAS,gBAAA,CAAiB,IAAA,CAAK,QAAQ,CAAA,IAAK,cAAA,CAAe,KAAK,QAAQ,CAAA;AAC9E,EAAA,OAAO,SAAS,KAAA,CAAM,KAAA,CAAM,MAAM,MAAA,CAAO,CAAC,CAAc,CAAA,GAAI,IAAA;AAC7D;AAHe,MAAA,CAAA,WAAA,EAAA,aAAA,CAAA;AAKf,SAAS,cAAA,CAAe,UAAkB,KAAA,EAA2B;AACpE,EAAA,MAAM,iBAAA,GAAoB,SAAS,WAAA,EAAY;AAC/C,EAAA,OAAO,KAAA,CAAM,KAAA,CAAM,KAAA,CAAM,IAAA,CAAK,CAAC,IAAA,KAAS,IAAA,CAAK,IAAA,CAAK,WAAA,EAAY,KAAM,iBAAiB,CAAA,IAAK,IAAA;AAC3F;AAHS,MAAA,CAAA,cAAA,EAAA,gBAAA,CAAA","file":"role.mjs","sourcesContent":["import { RoleMentionRegex, SnowflakeRegex } from '@sapphire/discord-utilities';\nimport { Result } from '@sapphire/result';\nimport type { Guild, Role, Snowflake } from 'discord.js';\nimport { Identifiers } from '../errors/Identifiers';\n\nexport async function resolveRole(parameter: string, guild: Guild): Promise<Result<Role, Identifiers.ArgumentRoleError>> {\n\tconst role = (await resolveById(parameter, guild)) ?? resolveByQuery(parameter, guild);\n\n\tif (role) {\n\t\treturn Result.ok(role);\n\t}\n\n\treturn Result.err(Identifiers.ArgumentRoleError);\n}\n\nasync function resolveById(argument: string, guild: Guild): Promise<Role | null> {\n\tconst roleId = RoleMentionRegex.exec(argument) ?? SnowflakeRegex.exec(argument);\n\treturn roleId ? guild.roles.fetch(roleId[1] as Snowflake) : null;\n}\n\nfunction resolveByQuery(argument: string, guild: Guild): Role | null {\n\tconst lowerCaseArgument = argument.toLowerCase();\n\treturn guild.roles.cache.find((role) => role.name.toLowerCase() === lowerCaseArgument) ?? null;\n}\n"]}